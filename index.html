<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guía Interactiva de Funciones en Python</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .code-block {
            background-color: #1E293B; /* slate-800 */
            color: #E2E8F0; /* slate-200 */
            padding: 1rem;
            border-radius: 0.5rem;
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.9em;
            overflow-x: auto;
            white-space: pre;
        }
        .output-block {
            background-color: #334155; /* slate-700 */
            color: #94A3B8; /* slate-400 */
            margin-top: 0.5rem;
            padding: 0.75rem;
            border-radius: 0.5rem;
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.9em;
            min-height: 40px;
        }
        .keyword { color: #F472B6; } /* pink-400 */
        .function-name { color: #60A5FA; } /* blue-400 */
        .string { color: #A7F3D0; } /* emerald-200 */
        .comment { color: #94A3B8; } /* slate-400 */
        .number { color: #FBBF24; } /* amber-400 */
        .decorator { color: #818CF8; } /* indigo-400 */

        /* Estilos para la navegación por pestañas */
        .content-section {
            display: none; /* Ocultar todas las secciones por defecto */
        }
        .nav-link.active {
            color: #60A5FA; /* blue-400 */
            font-weight: 600;
            border-bottom: 2px solid #60A5FA;
            padding-bottom: 4px;
        }
    </style>
</head>
<body class="bg-slate-900 text-slate-300">

    <!-- Header -->
    <header class="bg-slate-800/50 backdrop-blur-sm sticky top-0 z-50 py-4 shadow-md">
        <div class="container mx-auto px-6 text-center">
            <h1 class="text-3xl font-bold text-white">Guía Interactiva de Funciones en Python</h1>
            <p class="text-slate-400 mt-1">Profesor: Rodrigo Barba Guamán</p>
            <p class="text-slate-400">Asignatura: Lenguaje de Programación</p>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="bg-slate-800 py-3">
        <div id="main-nav" class="container mx-auto px-6 flex justify-center flex-wrap gap-x-4 gap-y-2 sm:space-x-8 text-sm sm:text-base">
            <a href="#" data-target="inicio" class="nav-link transition duration-300">Inicio</a>
            <a href="#" data-target="parametros" class="nav-link transition duration-300">Parámetros</a>
            <a href="#" data-target="variables" class="nav-link transition duration-300">Variables</a>
            <a href="#" data-target="modulos" class="nav-link transition duration-300">Módulos</a>
            <a href="#" data-target="buenas-practicas" class="nav-link transition duration-300">Buenas Prácticas</a>
            <a href="#" data-target="ejercicios" class="nav-link transition duration-300">Ejercicios</a>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container mx-auto p-6">
        <!-- Sección Inicio -->
        <section id="inicio" class="content-section p-6 bg-slate-800 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold text-white border-l-4 border-blue-400 pl-4 mb-4">Bienvenido a la Guía de Funciones en Python</h2>
            <p class="mb-4">Este artefacto interactivo está diseñado para ayudarte a comprender los conceptos fundamentales de las funciones en Python, con un enfoque práctico aplicado a la Ingeniería Civil.</p>
            <p class="mb-4">Las funciones son bloques de código reutilizables que realizan una tarea específica. Dominarlas es esencial para escribir programas eficientes, organizados y fáciles de mantener.</p>
            <div class="bg-slate-900/50 p-4 rounded-lg">
                <h3 class="text-lg font-semibold text-blue-300 mb-2">¿Cómo usar esta guía?</h3>
                <p>Utiliza el menú de navegación superior para explorar cada uno de los siguientes temas:</p>
                <ul class="list-disc list-inside mt-2 space-y-1">
                    <li><strong>Parámetros:</strong> Aprende a pasar información a tus funciones.</li>
                    <li><strong>Variables:</strong> Entiende la diferencia entre el ámbito local y global.</li>
                    <li><strong>Módulos:</strong> Descubre cómo organizar tu código en archivos reutilizables.</li>
                    <li><strong>Buenas Prácticas:</strong> Escribe código limpio y profesional.</li>
                    <li><strong>Ejercicios:</strong> Pon a prueba tus conocimientos con problemas prácticos.</li>
                </ul>
            </div>
        </section>

        <!-- Sección Parámetros -->
        <section id="parametros" class="content-section p-6 bg-slate-800 rounded-lg shadow-lg space-y-8">
            <h2 class="text-2xl font-bold text-white border-l-4 border-blue-400 pl-4">1. Parámetros en Funciones</h2>
             <div class="bg-slate-900/50 p-6 rounded-lg">
                <h3 class="text-xl font-semibold text-blue-300 mb-2">1.1 Parámetros Obligatorios</h3>
                <p class="mb-4">Son esenciales para el cálculo. La función no puede operar sin ellos. Por ejemplo, para calcular el área de una zapata rectangular, la base y la altura son indispensables.</p>
                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <p class="mb-2 font-medium">Código:</p>
                        <div class="code-block">
<pre><span class="keyword">def</span> <span class="function-name">calcular_area_zapata</span>(base, altura):
  <span class="comment"># Calcula el área de una superficie rectangular en m²</span>
  <span class="keyword">return</span> base * altura
</pre>
                        </div>
                    </div>
                    <div>
                        <p class="mb-2 font-medium">¡Calcula el área de una zapata!</p>
                        <div class="flex space-x-2 mb-2">
                            <input type="number" id="base_zapata" placeholder="Base (m)" class="w-1/2 p-2 rounded bg-slate-700 border border-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <input type="number" id="altura_zapata" placeholder="Altura (m)" class="w-1/2 p-2 rounded bg-slate-700 border border-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <button onclick="ejecutarAreaZapata()" class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition duration-300">Calcular Área</button>
                        <p class="mt-2 text-sm text-slate-400">Salida:</p>
                        <div id="output_area" class="output-block"></div>
                    </div>
                </div>
            </div>
            <div class="bg-slate-900/50 p-6 rounded-lg">
                <h3 class="text-xl font-semibold text-blue-300 mb-2">1.2 Parámetros Opcionales</h3>
                <p class="mb-4">Permiten flexibilidad. Por ejemplo, al calcular el esfuerzo en una columna, la fuerza y el área son obligatorias, pero podemos asumir un material estándar (acero) o permitir que el usuario especifique otro.</p>
                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <p class="mb-2 font-medium">Código:</p>
                        <div class="code-block">
<pre><span class="keyword">def</span> <span class="function-name">calcular_esfuerzo</span>(fuerza, area, material=<span class="string">"Acero"</span>):
  <span class="comment"># Calcula el esfuerzo (F/A) y menciona el material</span>
  esfuerzo = fuerza / area
  <span class="keyword">return</span> f<span class="string">"{esfuerzo:.2f} N/m² en {material}"</span>
</pre>
                        </div>
                    </div>
                    <div>
                        <p class="mb-2 font-medium">¡Calcula el esfuerzo!</p>
                        <div class="flex space-x-2 mb-2">
                            <input type="number" id="fuerza_esfuerzo" placeholder="Fuerza (N)" class="w-1/3 p-2 rounded bg-slate-700 border border-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <input type="number" id="area_esfuerzo" placeholder="Área (m²)" class="w-1/3 p-2 rounded bg-slate-700 border border-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <input type="text" id="material_esfuerzo" placeholder="Material (Opcional)" class="w-1/3 p-2 rounded bg-slate-700 border border-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <button onclick="ejecutarEsfuerzo()" class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition duration-300">Calcular Esfuerzo</button>
                        <p class="mt-2 text-sm text-slate-400">Salida:</p>
                        <div id="output_esfuerzo" class="output-block"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Sección Variables -->
        <section id="variables" class="content-section p-6 bg-slate-800 rounded-lg shadow-lg space-y-8">
            <h2 class="text-2xl font-bold text-white border-l-4 border-blue-400 pl-4">2. Variables Locales y Globales</h2>
            <div class="bg-slate-900/50 p-6 rounded-lg">
                <h3 class="text-xl font-semibold text-blue-300 mb-2">2.1 Variables Locales</h3>
                <p class="mb-4">Existen solo dentro de su función. Son útiles para cálculos intermedios que no necesitan ser conocidos fuera de la función, como la proporción de agua/cemento en una mezcla.</p>
                <div class="code-block">
<pre><span class="keyword">def</span> <span class="function-name">revisar_mezcla</span>(litros_agua, kg_cemento):
  <span class="comment"># La relación agua/cemento es un cálculo interno</span>
  relacion_ac = litros_agua / kg_cemento
  <span class="keyword">if</span> relacion_ac > <span class="number">0.5</span>:
    <span class="keyword">return</span> <span class="string">"Revisar: Mezcla muy fluida"</span>
  <span class="keyword">return</span> <span class="string">"Mezcla aceptable"</span>

<span class="keyword">print</span>(revisar_mezcla(<span class="number">30</span>, <span class="number">50</span>))
<span class="comment"># 'relacion_ac' no existe aquí fuera.</span>
</pre>
                </div>
            </div>
            <div class="bg-slate-900/50 p-6 rounded-lg">
                <h3 class="text-xl font-semibold text-blue-300 mb-2">2.2 Variables Globales</h3>
                <p class="mb-4">Accesibles desde cualquier parte. Son ideales para constantes físicas o parámetros de un proyecto, como la aceleración de la gravedad o el costo total de una obra. ¡Úsalas con precaución!</p>
                <div class="code-block">
<pre>GRAVEDAD = <span class="number">9.81</span>  <span class="comment"># m/s², una constante física global</span>
costo_total_obra = <span class="number">0</span> <span class="comment"># Un valor global que puede cambiar</span>

<span class="keyword">def</span> <span class="function-name">calcular_presion_hidrostatica</span>(profundidad, densidad_fluido=<span class="number">1000</span>):
  <span class="comment"># Esta función USA la constante global GRAVEDAD</span>
  <span class="keyword">return</span> densidad_fluido * GRAVEDAD * profundidad

<span class="keyword">def</span> <span class="function-name">agregar_costo_excavacion</span>(metros_cubicos, costo_por_m3=<span class="number">25</span>):
  <span class="comment"># Esta función MODIFICA una variable global</span>
  <span class="keyword">global</span> costo_total_obra
  costo_total_obra += metros_cubicos * costo_por_m3

agregar_costo_excavacion(<span class="number">100</span>)
<span class="keyword">print</span>(f<span class="string">"Costo actual: ${costo_total_obra}"</span>)
</pre>
                </div>
            </div>
        </section>

        <!-- Sección Módulos -->
        <section id="modulos" class="content-section p-6 bg-slate-800 rounded-lg shadow-lg space-y-8">
            <h2 class="text-2xl font-bold text-white border-l-4 border-blue-400 pl-4">3. Creación de Módulos</h2>
            <p class="mb-4">Agrupar funciones relacionadas en archivos separados (módulos) es fundamental para organizar un proyecto de ingeniería. Puedes tener un módulo para cálculos estructurales, otro para geotecnia, etc.</p>
            <div class="grid md:grid-cols-2 gap-6">
                <div class="bg-slate-900/50 p-6 rounded-lg">
                    <h3 class="text-xl font-semibold text-blue-300 mb-2">Módulo: geotecnia.py</h3>
                    <p class="mb-4">Este archivo contiene funciones para análisis geotécnicos.</p>
                    <div class="code-block">
<pre><span class="comment"># archivo: geotecnia.py</span>
PESO_ESP_AGUA = <span class="number">9.81</span> <span class="comment"># kN/m³</span>

<span class="keyword">def</span> <span class="function-name">calcular_empuje_tierras</span>(altura_muro, angulo_friccion):
  <span class="comment"># Fórmula simplificada de Rankine</span>
  Ka = (<span class="number">1</span> - math.sin(math.radians(angulo_friccion))) / (<span class="number">1</span> + math.sin(math.radians(angulo_friccion)))
  <span class="keyword">return</span> <span class="number">0.5</span> * Ka * PESO_ESP_AGUA * altura_muro**<span class="number">2</span>
</pre>
                    </div>
                </div>
                <div class="bg-slate-900/50 p-6 rounded-lg">
                    <h3 class="text-xl font-semibold text-blue-300 mb-2">Programa Principal: main.py</h3>
                    <p class="mb-4">Importamos nuestro módulo para usar sus herramientas.</p>
                    <div class="code-block">
<pre><span class="comment"># archivo: main.py</span>
<span class="keyword">import</span> geotecnia
<span class="keyword">import</span> math

empuje = geotecnia.calcular_empuje_tierras(<span class="number">5</span>, <span class="number">30</span>)
<span class="keyword">print</span>(f<span class="string">"Empuje activo: {empuje:.2f} kN/m"</span>)
</pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- Sección Buenas Prácticas -->
        <section id="buenas-practicas" class="content-section p-6 bg-slate-800 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold text-white mb-4 border-l-4 border-blue-400 pl-4">4. Buenas Prácticas</h2>
            <ul class="space-y-6">
                <li class="bg-slate-900/50 p-4 rounded-lg">
                    <strong>Nombres Descriptivos:</strong> El código debe ser auto-explicativo.
                    <p class="text-sm text-slate-400 mt-2">Mal: <code class="code-block !inline !p-1">def f(p, l):</code> <br>Bien: <code class="code-block !inline !p-1">def calcular_flecha_viga(carga_puntual, longitud_viga):</code></p>
                </li>
                 <li class="bg-slate-900/50 p-4 rounded-lg">
                    <strong>Docstrings:</strong> Documenta el "qué", "por qué" y "cómo" de tu función. Es el manual de usuario de tu código.
                    <div class="code-block mt-2">
<pre><span class="keyword">def</span> <span class="function-name">calcular_caudal</span>(area, velocidad):
  <span class="string">"""Calcula el caudal de un fluido según la ecuación de continuidad.

  Args:
      area (float): Área de la sección transversal en m².
      velocidad (float): Velocidad del fluido en m/s.

  Returns:
      float: Caudal resultante en m³/s.
  """</span>
  <span class="keyword">return</span> area * velocidad
</pre>
                    </div>
                </li>
            </ul>
        </section>

        <!-- Sección Ejercicios -->
        <section id="ejercicios" class="content-section p-6 bg-slate-800 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold text-white mb-4 border-l-4 border-blue-400 pl-4">5. Ejercicios de Ingeniería Civil</h2>
            <div class="bg-slate-700/50 p-4 rounded-lg mb-6">
                <h3 class="text-lg font-semibold text-blue-300 mb-2">Ejercicio 1: Volumen de Hormigón</h3>
                <p class="mb-4">Crea una función llamada <code class="function-name">calcular_volumen_hormigon</code> que reciba <code class="string">largo</code>, <code class="string">ancho</code> y <code class="string">alto</code> (en metros) como parámetros obligatorios. Debe devolver el volumen total en metros cúbicos (m³).</p>
                <textarea id="ejercicio1_code" class="w-full h-32 p-2 rounded bg-slate-800 border border-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm" placeholder="def calcular_volumen_hormigon(largo, ancho, alto):&#10;  # Tu código aquí"></textarea>
                <button onclick="verificarEjercicio1()" class="mt-2 bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition duration-300">Verificar</button>
                <div id="ejercicio1_feedback" class="output-block"></div>
            </div>
            <div class="bg-slate-700/50 p-4 rounded-lg">
                <h3 class="text-lg font-semibold text-blue-300 mb-2">Ejercicio 2: Peso de Barra de Acero</h3>
                <p class="mb-4">Crea una función <code class="function-name">calcular_peso_acero</code> que reciba la <code class="string">longitud</code> (m) y el <code class="string">diametro</code> (mm) de una barra de refuerzo. Incluye un parámetro opcional para la <code class="string">densidad</code> del acero, con un valor por defecto de 7850 kg/m³. La función debe devolver el peso en kilogramos. <br><span class="text-xs text-slate-400">Pista: El volumen de un cilindro es V = π * (radio²) * longitud. Convierte el diámetro a metros.</span></p>
                <textarea id="ejercicio2_code" class="w-full h-32 p-2 rounded bg-slate-800 border border-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm" placeholder="import math&#10;&#10;def calcular_peso_acero(longitud, diametro, densidad=7850):&#10;  # Tu código aquí"></textarea>
                <button onclick="verificarEjercicio2()" class="mt-2 bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition duration-300">Verificar</button>
                <div id="ejercicio2_feedback" class="output-block"></div>
            </div>
        </section>

    </main>

    <footer class="text-center py-6 mt-8 border-t border-slate-800">
        <p class="text-slate-500">Artefacto interactivo creado con fines educativos.</p>
    </footer>

    <script>
        // --- Tab Navigation and Interactive Scripts ---

        document.addEventListener('DOMContentLoaded', function() {
            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('.content-section');

            function showSection(targetId) {
                // Hide all sections
                sections.forEach(section => {
                    section.style.display = 'none';
                });

                // Deactivate all nav links
                navLinks.forEach(link => {
                    link.classList.remove('active');
                });

                // Show the target section
                const targetSection = document.getElementById(targetId);
                if (targetSection) {
                    targetSection.style.display = 'block';
                }

                // Activate the target nav link
                const targetLink = document.querySelector(`.nav-link[data-target="${targetId}"]`);
                if (targetLink) {
                    targetLink.classList.add('active');
                }
            }

            // Add click event listeners to nav links
            navLinks.forEach(link => {
                link.addEventListener('click', function(event) {
                    event.preventDefault();
                    const targetId = this.getAttribute('data-target');
                    showSection(targetId);
                });
            });

            // Show the 'inicio' section by default on page load
            showSection('inicio');
        });

        // --- Interactive Examples Functions ---

        function ejecutarAreaZapata() {
            const baseInput = document.getElementById('base_zapata');
            const alturaInput = document.getElementById('altura_zapata');
            const output = document.getElementById('output_area');
            const base = parseFloat(baseInput.value);
            const altura = parseFloat(alturaInput.value);
            if (isNaN(base) || isNaN(altura)) {
                output.textContent = 'Error: Base y altura deben ser números.';
                output.style.color = '#F87171';
            } else {
                const resultado = base * altura;
                output.textContent = `Área = ${base}m * ${altura}m = ${resultado.toFixed(2)} m²`;
                output.style.color = '#A7F3D0';
            }
        }

        function ejecutarEsfuerzo() {
            const fuerzaInput = document.getElementById('fuerza_esfuerzo');
            const areaInput = document.getElementById('area_esfuerzo');
            const materialInput = document.getElementById('material_esfuerzo');
            const output = document.getElementById('output_esfuerzo');
            const fuerza = parseFloat(fuerzaInput.value);
            const area = parseFloat(areaInput.value);
            const material = materialInput.value || "Acero";
            if (isNaN(fuerza) || isNaN(area)) {
                output.textContent = 'Error: Fuerza y área deben ser números.';
                output.style.color = '#F87171';
            } else if (area === 0) {
                 output.textContent = 'Error: El área no puede ser cero.';
                 output.style.color = '#F87171';
            } else {
                const esfuerzo = fuerza / area;
                output.textContent = `Esfuerzo (σ) = ${fuerza}N / ${area}m² = ${esfuerzo.toFixed(2)} N/m² en ${material}`;
                output.style.color = '#A7F3D0';
            }
        }

        function verificarEjercicio1() {
            const userCode = document.getElementById('ejercicio1_code').value;
            const feedback = document.getElementById('ejercicio1_feedback');
            const hasFunctionDef = userCode.includes('def calcular_volumen_hormigon');
            const hasParams = userCode.includes('largo') && userCode.includes('ancho') && userCode.includes('alto');
            const hasReturn = userCode.includes('return');
            if (hasFunctionDef && hasParams && hasReturn) {
                feedback.textContent = '¡Correcto! La estructura de la función es adecuada. Recibe los tres parámetros y devuelve un valor.';
                feedback.style.color = '#A7F3D0';
            } else if (hasFunctionDef && hasReturn) {
                 feedback.textContent = 'Casi lo tienes. Revisa que estés incluyendo los tres parámetros requeridos: largo, ancho y alto.';
                 feedback.style.color = '#FBBF24';
            } else {
                feedback.textContent = 'Revisa tu código. Asegúrate de usar "def calcular_volumen_hormigon(...):" y "return".';
                feedback.style.color = '#F87171';
            }
        }

        function verificarEjercicio2() {
            const userCode = document.getElementById('ejercicio2_code').value;
            const feedback = document.getElementById('ejercicio2_feedback');
            const hasFunctionDef = userCode.includes('def calcular_peso_acero');
            const hasReturn = userCode.includes('return');
            const hasDefaultParam = userCode.includes('densidad=') || userCode.includes('densidad =');
            if (hasFunctionDef && hasReturn && hasDefaultParam) {
                feedback.textContent = '¡Excelente! Has definido la función con su parámetro opcional correctamente. ¡Buen trabajo!';
                feedback.style.color = '#A7F3D0';
            } else if (hasFunctionDef && hasReturn) {
                 feedback.textContent = 'Vas bien. Definiste la función y usas return, pero no olvides el parámetro opcional para la densidad (ej: densidad=7850).';
                 feedback.style.color = '#FBBF24';
            } else {
                feedback.textContent = 'Aún falta algo. Asegúrate de definir la función con "def calcular_peso_acero(...):" y que devuelva un valor con "return".';
                feedback.style.color = '#F87171';
            }
        }
    </script>

</body>
</html>